"use strict";(self.webpackChunktradex=self.webpackChunktradex||[]).push([[418],{5795:function(e,r,a){a(7313);var t=a(6417);r.Z=function(e){var r=e.label,a=e.id,s=e.type,i=e.placeholder,n=e.disabled,d=e.handleChange,l=e.htmlName,c=e.value,o=e.errorMsg,u="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-100 focus:border-primary-100 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-100 dark:focus:border-primary-100";return"file"===s&&(u="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:a,className:"block mb-2 text-sm font-medium ".concat(o?"text-red-700 dark:text-red-500":"text-gray-900 dark:text-white"),children:r}),"textArea"===s?(0,t.jsx)("textarea",{id:a,rows:"8",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:i}):(0,t.jsx)("input",{disabled:n,type:s,id:a,placeholder:i,value:c,className:o?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 block w-full dark:text-red-500 dark:placeholder-red-500 dark:border-red-500":u,name:l,onChange:d}),o&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:(0,t.jsx)("span",{className:"font-medium",children:o})})]})}},8142:function(e,r,a){a.d(r,{EQ:function(){return s},K5:function(){return l},f8:function(){return n},nB:function(){return c},sI:function(){return d},zG:function(){return i}});var t=a(1933),s=t.Ry().shape({Email:t.Z_().email().required("Email is required"),UserName:t.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Username is required"),Password:t.Z_().required("Password is required").min(8,"too short - should be 8 chars minimum"),ConfirmPassword:t.Z_().required("You should repeat the password").oneOf([t.iH("Password"),null],"Type the correct password")}),i=t.Ry().shape({Email:t.Z_().email().required("Email is required"),Password:t.Z_().required("Password is required").min(8,"too short - should be 8 chars minimum")}),n=t.Ry().shape({AccountName:t.Z_().required("Account Name is required"),Market:t.Z_().required("Select Market"),Broker:t.Z_().required("Select Broker"),InitialBalance:t.Rx().positive().integer().required("Initial Balance is required"),Currency:t.Z_().required("Select Currency")}),d=t.Ry().shape({TagName:t.Z_().required("Tag Name is required"),TagType:t.Z_().required("Select Tag Type"),TagDesc:t.Z_().required("Tag Description is required")}),l=t.Ry().shape({Account:t.Z_().required("Select Account"),Market:t.Z_().required("Select Market"),Broker:t.Z_().required("Select Broker"),Setup:t.Z_().required("Select Setup"),Symbol:t.Z_().required("Symbol is required"),EntryDate:t.hT().required("Entry Date is required"),ExitDate:t.hT().required("Exit Date is required").min(t.iH("EntryDate")),EntryPrice:t.Rx().required("Entry Price is required"),ExitPrice:t.Rx().required("Initial Balance is required"),StopLoss:t.Rx().required("Stop Loss is required"),Quantity:t.Rx().positive().integer().required("Quantity is required")}),c=t.Ry().shape({account:t.Z_().required("Select Account"),broker:t.Z_().required("Select Broker")})},418:function(e,r,a){a.r(r),a.d(r,{default:function(){return j}});var t=a(4165),s=a(5861),i=a(9439),n=a(7313),d=a(8467),l=a(2135),c=a(5481),o=a(3394),u=a(3420),m=a(8520),g=a(4530),h=a(1413),x=a(7410),p=a(5795),f=a(7609),y=a(8142),b=a(6752),k=a(6417),T=function(e){var r=e.setShowTagForm,a=new URLSearchParams((0,d.TH)().search).get("tagId"),l=(0,b.K7)(a,{refetchOnMountOrArgChange:!0,skip:!a}),c=l.data,o=l.isLoading,m=c?(0,h.Z)({},c):{TagName:"",TagType:"",TagDesc:""},g=(0,x.TA)({initialValues:m,validationSchema:y.sI,onSubmit:function(e){M(e)}}),T=g.values,j=g.errors,v=g.touched,w=g.isSubmitting,q=g.handleChange,N=g.handleSubmit,Z=g.handleBlur,S=g.setValues,_=(0,b.cZ)(),E=(0,i.Z)(_,2),C=E[0],D=E[1],B=D.isSuccess,A=D.data;(0,n.useEffect)((function(){B&&r(!1),c&&S(m)}),[B,A,c,o,S]);var M=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a&&(r.TagId=a),e.next=4,C(r).unwrap();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r){return e.apply(this,arguments)}}();return(0,k.jsx)("form",{onSubmit:N,children:(0,k.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6",children:[(0,k.jsx)("div",{className:"w-full",children:(0,k.jsx)(p.Z,{label:"Tag Name",placeholder:"Ex.: Setup Created",id:"tag-name",type:"text",htmlName:"TagName",value:T.TagName,handleChange:q,onBlur:Z,errorMsg:j.TagName&&v.TagName&&j.TagName})}),(0,k.jsx)("div",{className:"w-full",children:(0,k.jsx)(f.Z,{label:"Select Tag Type",id:"ddTags",htmlName:"TagType",errorMsg:j.TagType&&v.TagType&&j.TagType,onChange:q,onBlur:Z,value:T.TagType,children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("option",{children:"Select Type"}),(0,k.jsx)("option",{children:"SETUP"}),(0,k.jsx)("option",{children:"MISTAKE"}),(0,k.jsx)("option",{children:"CUSTOM"})]})})}),(0,k.jsx)("div",{className:"sm:col-span-2",children:(0,k.jsx)(p.Z,{label:"Description",placeholder:"Add Description",id:"tag-description",type:"text",htmlName:"TagDesc",value:T.TagDesc,handleChange:q,onBlur:Z,errorMsg:j.TagDesc&&v.TagDesc&&j.TagDesc})}),(0,k.jsxs)("div",{className:"flex flex-row items-center mt-5",children:[(0,k.jsx)(u.JK,{id:"reset",children:"Reset"}),(0,k.jsx)(u.Mm,{type:"submit",id:"profileBtn",disabled:w,children:"Submit"})]})]})})},j=function(){var e=(0,d.s0)(),r=(0,n.useState)(!1),a=(0,i.Z)(r,2),h=a[0],x=a[1],p=(0,b.K7)(),f=p.data,y=(p.isLoading,(0,b.BW)()),j=(0,i.Z)(y,2),v=j[0],w=(j[1].isLoading,function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({TagId:r}).unwrap();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}()),q=function(r,a){return e("".concat(r,"?").concat((0,l.fW)(a)))};return(0,k.jsxs)("div",{children:[(0,k.jsx)(c.Z,{}),(0,k.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,k.jsx)("div",{className:"w-full max-w-3xl p-6 mt-8 space-y-8 sm:p-8 bg-white rounded-lg shadow dark:bg-main-dark",children:(0,k.jsxs)("div",{className:"py-8 px-1 max-w-2xl lg:py-2",children:[!h&&(0,k.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6",children:[(0,k.jsx)("div",{className:"w-full",children:(0,k.jsx)("h2",{className:"mb-2 sm:mb-2 text-lg font-bold text-gray-900 dark:text-white",children:"Manage Tags"})}),(0,k.jsx)("div",{className:"w-full flex sm:justify-end sm:items-start",children:(0,k.jsx)(u.Mm,{id:"add-account",onClick:function(){x(!h),e("/settings/tags-mmanagements")},children:"+ ADD TAGS"})}),(0,k.jsx)("div",{className:"sm:col-span-2 relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,k.jsx)(m.h,{data:f||[],columns:g.TA,isEdit:!0,handleDeleteClick:w,handleEditClick:function(e){x(!0),q("/settings/tags-mmanagements",{tagId:e})},Id:"TagId"})})]}),h&&(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"flex justify-between items-center border-b dark:border-gray-600 pb-4 mb-4 sm:mb-5",children:[(0,k.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Tags"}),(0,k.jsx)("button",{className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:function(){return x(!h)},children:(0,k.jsx)(o.bjh,{className:"w-6 h-6"})})]}),(0,k.jsx)(T,{setShowTagForm:x})]})]})})})]})}}}]);